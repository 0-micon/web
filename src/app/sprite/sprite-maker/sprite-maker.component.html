<div class="row">
  <div class="col-6">
    <label class="btn btn-light" title="Choose a sprite file (image)">
      Sprite:
      <input type="file" [multiple]="false" (change)="loadSprites($event)" placeholder="Upload file..." />
    </label>
  </div>
  <div class="col-6">
    <label class="btn btn-light" title="Choose a frame file (json)">
      Frame:
      <input type="file" [multiple]="false" (change)="loadFrames($event)" placeholder="Upload file..." />
    </label>
  </div>
</div>

<div class="row mh-100">
  <div class="col-6 overflow-auto">
    <!-- <div class="test-border" [style.width.px]="width" [style.height.px]="height"> -->
    <canvas #canvas [width]="width" [height]="height" (mousedown)="onMouseDown($event)" (mouseup)="onMouseUp($event)"
      (mousemove)="onMouseMove($event)"></canvas>
    <!-- </div> -->
  </div>
  <div class="col-6 overflow-auto">
    <table class="table table-striped table-hover">
      <thead>
        <th>Name</th>
        <th>X</th>
        <th>Y</th>
        <th>W</th>
        <th>H</th>
        <th></th>
      </thead>
      <tbody>
        <tr>
          <td>
            <input type="text" name="wname" class="form-control" [(ngModel)]="newFrame.name" />
          </td>
          <td>
            <input type="text" name="wx" class="form-control" [(ngModel)]="newFrame.x" />
          </td>
          <td>
            <input type="text" name="wy" class="form-control" [(ngModel)]="newFrame.y" />
          </td>
          <td>
            <input type="text" name="ww" class="form-control" [(ngModel)]="newFrame.w" />
          </td>
          <td>
            <input type="text" name="wh" class="form-control" [(ngModel)]="newFrame.h" />
          </td>
          <td>
            <button class="btn btn-primary btn-sm" [disabled]="!isNewFrameValid" (click)="addFrame()">Add</button>
          </td>
        </tr>
        <tr *ngFor="let name of frameNames">
          <td>{{name}}</td>
          <td>{{frames[name].x}}</td>
          <td>{{frames[name].y}}</td>
          <td>{{frames[name].w}}</td>
          <td>{{frames[name].h}}</td>
          <td>
            <button class="btn btn-info btn-sm mr-2" (click)="editFrame(name)">Edit</button>
            <button class="btn btn-danger btn-sm" (click)="deleteFrame(name)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<!-- <div *ngIf="sprite"> -->
<!-- <img [src]="data" [alt]="name" /> -->
<!-- </div> -->

<div *ngIf="frames">
  <ul class="list-group">
    <li *ngFor="let name of frameNames;let i = index" class="list-group-item list-group-item-action" [class.active]="i===selection"
      (click)="selection=i">{{name}}</li>
  </ul>
  {{frames | json}}
</div>
